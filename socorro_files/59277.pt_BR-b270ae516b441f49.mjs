"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[59277],{13882:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},983946:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},619013:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(13882);function n(e){(0,o.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},442279:(e,t)=>{function i(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=0,a=o.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return typeof e}).join(", ")+"]");return t}(o),s=e.apply(void 0,[function(){return r++,a.apply(void 0,arguments)}].concat(i)),d=function(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];var r=l.map(function(i){return i.apply(void 0,[e,t].concat(o))});return s.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}(r))};return d.resultFunc=a,d.recomputations=function(){return r},d.resetRecomputations=function(){return r=0},d}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],o=null,n=null;return function(){for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return null!==o&&o.length===r.length&&r.every(function(e,i){return t(e,o[i])})||(n=e.apply(void 0,r)),o=r,n}})},334589:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},406718:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(340523),n=i(554786),r=i(149722),a=i(785059),l=i(199677);function s(e){let t=(0,n.HG)(),{checkExperiment:i}=(0,o.F)(),s=(0,a.Z)(),d=(0,r.Z)(),c=(0,l.lJ)(d,s),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled,_=!t||i("web_sce_monetized_pinbuilder_dep").anyEnabled,p=i("uid_sce_lightswitch_advertisers").anyEnabled;return!c&&((e&&(i("sce_lightswitch_organic"),i("sce_lightswitch_monetized")),t)?!!(u||_||p):u||_)}},32346:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},67030:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(481177);function n(e){return e===o.ZP.BoardPrivacy.SECRET}},510989:(e,t,i)=>{i.d(t,{Z:()=>o});let o=i(103322).Z},220488:(e,t,i)=>{i.d(t,{Z:()=>h});var o=i(667294),n=i(883119),r=i(510989),a=i(401429),l=i(862249),s=i(983983),d=i(785893);let c=s.fe,u=new n.Ry(c-1);function _(e){let{button:t,onClick:i}=e;return t.url?(0,d.jsx)(n.ZP,{color:"white",fullWidth:!0,href:t.url,onClick:i,rel:(0,l.Z)({url:t.url})?"nofollow":"none",text:t.text}):(0,d.jsx)(n.zx,{color:"white",fullWidth:!0,onClick:i,text:t.text})}let p=e=>{let t;let{anchors:i,experience:r,dismiss:a,complete:l,scrollToDismiss:s,onAnchorTouch:c,idealDirection:p}=e,h=!0,{message:m,anchor:f,complete_button:b}=(r||{}).display_data,g=i[f],P=()=>{t&&clearTimeout(t),a()},y=()=>{t||h||(t=setTimeout(()=>P(),1500)),h=!1};return(0,o.useEffect)(()=>(g&&(s&&(window.addEventListener("scroll",y),window.addEventListener("touchmove",y)),c&&g&&g.addEventListener("click","complete"===c?l:P)),()=>{s&&(window.removeEventListener("scroll",y),window.removeEventListener("touchmove",y),t&&clearTimeout(t)),c&&g&&g.removeEventListener("click","complete"===c?l:P)}),[g]),(0,d.jsx)(n.Li,{anchor:g,idealDirection:p,onDismiss:P,zIndex:u,children:(0,d.jsx)(n.xu,{padding:4,tabIndex:0,children:(0,d.jsxs)(n.kC,{direction:"column",gap:3,children:[(0,d.jsx)(n.xv,{color:"light",children:m}),b&&(0,d.jsx)(_,{button:b,onClick:l})]})})})},h=e=>{let{placementId:t,anchors:i}=e,[n,l]=(0,o.useState)(!0),s=()=>l(!1);return(0,d.jsx)(r.Z,{name:"ExperiencePopoverEducational",children:n&&(0,d.jsx)(a.Z,{placementId:t,predicate:e=>{if(e?.type!==29)return!1;let{anchor:t}=(e||{}).display_data;return!!t&&!!i[t]},children:({complete:t,dismiss:i,experience:o})=>(0,d.jsx)(p,{...e,complete:()=>{s(),t()},dismiss:()=>{s(),i()},experience:o})})})}},200201:(e,t,i)=>{i.d(t,{_:()=>s,a:()=>d});var o=i(667294),n=i(545007),r=i(105737),a=i(25919),l=i(5859);let s=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{let s=(0,o.useRef)(),d=(0,n.I0)(),{isBot:c}=(0,l.B)(),u=(0,n.v9)(e=>e.experiences[t]);return(0,o.useEffect)(()=>{d((0,a.kd)(t))},[d,u,t]),(0,o.useEffect)(()=>{i||(0,r.ZP)(s.current,e)||(d((0,a.pz)([t],c,e)),s.current=e)},[d,e,c,t,i]),u},d=e=>(s(e),(0,n.v9)(t=>t.experiencesMulti[e.id]))},388769:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(72461),n=i(5859),r=i(785893);let a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:i,shortform:a,shortformMaximumFractionDigits:l,formatStyle:s,uplimit:d,value:c})=>{let u=(0,o.Z)();return(0,r.jsx)(n.LC,{children:o=>u(o.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:i,shortform:a,shortform_maximum_fraction_digits:l,style:s,uplimit:d})})}},201417:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},588664:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e,t,i=28){let n;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let r=new Date,a=n?new Date(n):r;return a.setDate(a.getDate()+i),new Date().getTime()<a.getTime()}},317540:(e,t,i)=>{i.d(t,{Z:()=>o});let o={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},483085:(e,t,i)=>{i.d(t,{Z:()=>function e(t,i=!1){return n=>{if(!(0,o.Z)(n))return i&&Array.isArray(n)?n.map(e(t,i)):n;let r={};return Object.keys(n).forEach(a=>{let l=t(n[a],a);(0,o.Z)(n[a])||i&&Array.isArray(n[a])?r[l]=e(t,i)(n[a]):r[l]=n[a]}),r}}});var o=i(201417)},256683:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(483085);function n(e,t=!1){let i=(t,i)=>e(i);return e=>(0,o.Z)(i,t)(e)}},705895:(e,t,i)=>{function o(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>a});let n=new class{constructor(){o(this,"onResumeListeners",[]),o(this,"onPauseListeners",[]),o(this,"inExp",!1),o(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},r=e=>{if(e.isHidden){let{reason:t}=e;n.windowInFocus=!1,n.onPauseListeners.forEach(e=>e(t))}else n.windowInFocus=!0,n.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>r({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>r({isHidden:!1})),window.addEventListener("blur",()=>r({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>r({isHidden:!1})),window.addEventListener("pagehide",()=>r({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=n},493538:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(760890),n=i(667294),r=i(107860),a=i(906623),l=i(438555);function s({children:e,isAtEndOfFeed:t,pinData:i,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1,isPlaceholderGrid:_}){return l.Z()?.isAuthenticated||(u=!0),(0,o.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u,isPlaceholderGrid:_}),!function(e){let t=(0,a.E)(),i=(0,n.useRef)(null);(0,n.useEffect)(()=>{e!==i.current&&(i.current=e,t&&(0,r.ZP)(r.at))},[!!t,e])}(s),e}},760890:(e,t,i)=>{i.d(t,{Z:()=>g,v:()=>p});var o=i(667294),n=i(685679),r=i(608029),a=i(367180),l=i(297329),s=i(107860),d=i(906623),c=i(279600),u=i(748058);let _=(0,r.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,a.VZ)(),h=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,m=(e,t)=>{if(!t){let t=(0,a.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,a.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},f=(e,t)=>{let i=0,o=0,n=0,r=0,a=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,l)=>{let s;let d=t.fileName.split(".")[0];s=e[l],d!==s?.image_signature&&(s=e.find(e=>d===e?.image_signature)),void 0===s?a+=1:s.is_promoted||s.recommendation_reason?.reason==="PROMOTED_PIN"||s?.promoter?.length?n+=1:null!==s.story_pin_data_id&&void 0!==s.story_pin_data_id?i+=1:s?.videos?.video_list?o+=1:r+=1}),{storyPinCount:i,videoCount:o,adCount:n,imageCount:r,unknownCount:a}},b=(e,t)=>{let i=()=>{window.removeEventListener(e,i),t()};return window.addEventListener(e,i),()=>window.removeEventListener(e,i)};function g({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:i,includeVideos:p=!1,includeSections:g,isPlaceholderGrid:P}){let y=(0,d.E)(),A=y?.getId(),v=y?.setVisuallyCompleteResult,[x,w]=(0,o.useState)({status:"DISABLED"});(0,o.useEffect)(()=>{v?w({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):w({status:"DISABLED"})},[A,v]),(0,o.useEffect)(()=>{if("DISABLED"!==x.status&&(0,s.ZP)(`GridVisuallyCompleteProfiler_${x.status}`),_("new status",x),"LAYOUT"===x.status){let e=b("scroll",()=>{(0,s.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[x.status]),(0,u.Z)(()=>{if(!y||!v)return;let{abort:o,getMetricId:s}=y,d=s(),u=(0,a.cQ)(i,p,g);if(P&&!u.length){_("bypassing PWT run due to skeleton pin grid");return}switch(x.status){case"LAYOUT":{let t=m(x.numOfItemsChecked,e);t.complete?w({status:"TIMING",failedCount:0,pinElements:u}):500*x.failedCount>6e4?((0,l.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),o("visuallyComplete_layoutTimeout"),w({status:"DISABLED"})):w({...x,failedCount:x.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),i=x.pinElements.length,a=[],s=0,u=0,p=0;if(x.pinElements.forEach(({element:t,fileName:i})=>{let o=e.find(e=>e.name.endsWith(i));o?o.responseEnd?(a.push(o),(0,r.v5)(t,"green")):(p+=1,(0,r.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,r.v5)(t,"red")):(s+=1,(0,r.v5)(t,"greenyellow"))}),s||p)100*x.failedCount>6e4?((0,l.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:i,incompleteCount:s,noTimingCount:u,noTimingResponseEndCount:p}}),o("visuallyComplete_timingTimeout"),w({status:"DISABLED"})):w({...x,failedCount:x.failedCount+1});else{if(_(`All ${a.length} images are fetched`),t&&t.length){let e=f(t,x.pinElements);Object.entries(e).forEach(([e,t])=>{y.addBinaryAnnotation(e,t,"I16")}),(0,l.A9)(`${(0,n.KJ)(d)}.pinTypes`,{tags:e})}v({imageTimings:a}),w({status:"DISABLED"}),(0,l.A9)(`images.${(0,n.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:i,noTimingCount:u}})}}}},h(x))}},826267:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(839967),n=i(637253);function r(e){let{enabledRouteRefresh:t,headers:i,name:r,noCache:a,options:l,schema:s}=e??{name:o.fY,options:null},d=!e,{fetchResource:c,ref:u}=(0,n.Z)({enabledRouteRefresh:t,headers:i,name:r,noCache:a,options:l,schema:s},d,!1);return d||c(),u}},55202:(e,t,i)=>{i.d(t,{U:()=>a,Z:()=>l});var o=i(317540),n=i(785893);let r=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function l({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:i,allowScroll:l,children:s}){let d=e=>{t&&e.keyCode===o.Z.ESCAPE||a(e)};return(0,n.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:r,onCanPlay:i?r:a,onCanPlayThrough:a,onChange:a,onClick:e?r:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:r,onInput:a,onInvalid:a,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?r:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?r:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:l?r:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?r:a,onTouchMove:e?r:a,onTouchStart:e?r:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:s})}},564855:(e,t,i)=>{i.d(t,{ZP:()=>n,mP:()=>o});let o="…";function n(e,t=80,i=o,r=!1){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)a=e.substring(0,t);else{let i=e.lastIndexOf(" ",t);a=e.substring(0,i)}return(a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+i}},325362:(e,t,i)=>{i.d(t,{Z:()=>o});function o(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},748058:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(667294);let n=(e,t)=>{let i=(0,o.useRef)(()=>{});(0,o.useEffect)(()=>{i.current=e},[e]),(0,o.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>i.current(),t);return()=>clearInterval(e)},[t])}},446653:(e,t,i)=>{i.d(t,{r:()=>P,K:()=>g});var o=i(667294),n=i(342513),r=i(757640),a=i(149722),l=i(998577),s=i(573810),d=i(325362);let c=e=>{let t={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,d.Z)(i)]=e[i]:t[(0,d.Z)(i)]=c(e[i]));return t},u=(e,t)=>{let i=[];for(let o in e)o!==t&&i.push({id:o,...c(e[o])});let o=i.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of o)n.set(e.id,e);return n},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},h=({dispatch:e,isEnabled:t,state:i})=>{let{orbacVisibility:n,disableProfileChanger:r,headerVisible:a}=i,l=(0,o.useCallback)(i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})},[t,e]);return{changeProfile:l,toggleORBACVisibility:(0,o.useCallback)(i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:i??!n})},[t,e,n]),toggleDisableProfileChanger:(0,o.useCallback)(i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:i??!r})},[t,e,r]),toggleHeaderVisibility:(0,o.useCallback)(i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:i??!a})},[t,e,a])}},m=e=>{let[t,i]=(0,o.useReducer)(p,_),n=h({dispatch:i,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:a}=t;return(0,o.useEffect)(()=>{let e=(0,s.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,o.useEffect)(()=>{let e=(0,s.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,o.useEffect)(()=>{(0,s.Nh)("orbacVisibility",a)},[a]),(0,o.useEffect)(()=>{(0,s.Nh)("orbacActiveProfile",r)},[r]),{state:t,actions:n,receiveProfiles:(0,o.useCallback)((e,t)=>{i({type:"LOAD_PROFILES",payload:u(e,t)})},[i])}};var f=i(785893);let{Provider:b,useMaybeHook:g}=(0,n.Z)("RoleBasedAccessControlContext"),P=({children:e})=>{let t;let i=(0,a.Z)(),n=!!(i.isAuth&&i.isPartner),{state:s,actions:d,receiveProfiles:c}=m(n),{activeProfile:u,headerVisible:_,profiles:p=[]}=s,h=p?Array.from(p.values()):[],g=(0,l.Z)(h),P=!!i.isAuth&&h.length>0&&g,y=i.isAuth?i.id:"",A=i.isAuth?i.username:"",{changeProfile:v,toggleORBACVisibility:x,toggleDisableProfileChanger:w,toggleHeaderVisibility:E}=d;(0,o.useEffect)(()=>{if(n){if("string"==typeof g){v(g);return}u||v(y)}},[g,y,n,v,u]),(0,o.useEffect)(()=>{n&&(P&&!_&&E(!0),!P&&_&&E(!1))},[E,P,n,_,p]);let{data:C}=(0,r.Z)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),L=C?.profiles;i&&i.isAuth&&s.activeProfile===i.id?t={id:i.id,permissions:["OWNER"],user:{username:A,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:u&&s.profiles&&(t=s.profiles.get(u)),(0,o.useEffect)(()=>{L&&c(L,y)},[c,L,y]);let I=s.profiles?Array.from(s.profiles.values()):[];return(0,f.jsx)(b,{value:{profiles:I,headerVisible:s.headerVisible,activeProfile:t,changeProfile:v,toggleORBACVisibility:x,toggleDisableProfileChanger:w,toggleHeaderVisibility:E},children:e})}},785059:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(340523),n=i(446653),r=i(998577);let a=()=>{let{checkExperiment:e}=(0,o.F)(),t=(0,n.K)(),{activeProfile:i}=t||{},a=(0,r.Z)(t?.profiles||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return l&&!a?Object.freeze({}):i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:Object.freeze({})}},998577:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(616550),n=i(741983),r=i(149722),a=i(19447);let l=e=>{let t=(0,o.TH)(),i=(0,r.Z)(),l=(0,a.S6)(),s=(0,o.$B)("/:username"),d=s?.params?.username,c=(0,o.$B)("/pin/:id"),u=!!c?.params?.id&&l(c.params.id)?.pinner?.id;if((0,n.ej)(t))return!1;if((0,n.RU)(t)||(0,n.mY)(t))return!0;let _=e.concat(i.isAuth?{user:{username:i.username},id:i.id}:{}).find(e=>{let{user:t={},id:i}=e||{},{username:o}=t;return(!!o&&!!d||!!u&&!!i)&&(o===d||u===i)});return!!_&&_.id}},199677:(e,t,i)=>{i.d(t,{D3:()=>u,DX:()=>d,Fk:()=>o,KY:()=>_,Ms:()=>n,N1:()=>p,_P:()=>s,gJ:()=>r,lJ:()=>l,nl:()=>a,q6:()=>c});let o=(e,t)=>{let i=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(i=t.user.businessName),i},n=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},r=(e,t)=>{let i=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(i=t.user.imgUrl),i},a=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,i)=>i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:e.advertiser?.merchant_id,d=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),u=(e,t,i)=>!!(c(e,t,i)||e&&e.isAuth&&t===e.id),_=(e,t,i)=>u(e,t&&t.owner&&t.owner.id||"",i);function p(e,t,i){return u(e,t?t.id:"",i)}},239821:(e,t,i)=>{i.d(t,{g:()=>_,I:()=>u});var o=i(667294),n=i(342513),r=i(705895),a=i(259866);let l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},s=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:o,isPromoted:n,currentTime:r}=i,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:s,promotedVideosAutoplaying:d,organicVideosAutoplaying:c}=l,u=(0,a.Z)(d),_=(0,a.Z)(c);return!n&&s?e:(n?u[o]={pinId:o,currentTime:r,paused:!1}:_[o]={pinId:o,currentTime:r,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:n?s:o,promotedVideosAutoplaying:u,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:o,isPromoted:n,currentTime:r}=i,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=l,c=(0,a.Z)(s),u=(0,a.Z)(d);return n?c[o]={...c[o],paused:!0,currentTime:r}:u[o]={...u[o],paused:!0,currentTime:r},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=i(785893);let{Provider:c,useHook:u}=(0,n.Z)("AppUI");function _({children:e}){let[t,i]=(0,o.useReducer)(s,l),n=(0,o.useCallback)(e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,o.useCallback)(e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,o.useCallback)(e=>i({type:"SET_CURRENT_VIDEO",payload:e}),[]),_=(0,o.useCallback)(e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),p=(0,o.useCallback)(e=>i({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,o.useCallback)(e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,o.useCallback)(e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),f=(0,o.useMemo)(()=>({pauseAutoplay:n,setCurrentVideo:u,setFooterPlusButtonVisible:_,setIsAutoplay:p,setViewportSize:h,toggleTypeaheadOverlay:m,setAppFocusState:a,appUI:t}),[n,u,_,p,h,m,a,t]);return(0,o.useEffect)(()=>{r.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,d.jsx)(c,{value:f,children:e})}},104567:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(667294),n=i(883119),r=i(652151),a=i(785893);let l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function s({children:e,forwardRef:t,position:i="static",shouldShowShadow:s=!1,top:d,style:c={}}){let{currentScrollPosition:u,isScrolled:_,setSubheaderShadow:p}=(0,r.W)();(0,o.useEffect)(()=>(s&&p("contentHeader"),()=>{s&&p(null)}),[s]);let h=!1;"pending"!==d&&(h=null!=d?u>=d:_);let m=(0,a.jsx)(n.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:i,...c,...h&&s&&{...l,zIndex:499}}},children:e});return"sticky"===i?(0,a.jsx)(n.Le,{top:0,children:m}):m}},831641:(e,t,i)=>{i.d(t,{Z:()=>C});var o=i(667294),n=i(545007),r=i(616550),a=i(883119),l=i(587703),s=i(220488),d=i(930837),c=i(140017),u=i(340523),_=i(554786),p=i(747602),h=i(785893);function m({isOpen:e,onDismiss:t}){let i=(0,c.ZP)();return(0,h.jsx)(d.ZP,{accessibilityModalLabel:i.bt("Modal de mensagem de erro porque a publicação do Pin está desabilitada", "Disabled Pin Publishing Error Message Modal", "disabledPinCreationModal.modal.accessibilityLabel", undefined, true),isOpen:e,mobileAccessibilityCloseIconLabel:i.bt("Fechar modal de mensagem de publicação desabilitada", "Close disabled publishing message modal", "disabledPinCreationModal.modal.closeIconLabel", undefined, true),onDismiss:t,type:"DisabledPublishingModal",children:(0,h.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,h.jsx)(a.X6,{children:i.bt("Opa!", "Oops...", "disabledPinCreationModal.modal.heading", undefined, true)}),(0,h.jsx)(a.xu,{paddingY:3,children:(0,h.jsx)(a.xv,{children:i.bt("Nosso servidor está enfrentando uma ligeira instabilidade no momento. Tente atualizar e publicar novamente mais tarde.", "Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.", "disabledPinCreationModal.modal.text", undefined, true)})}),(0,h.jsx)(a.xu,{paddingY:3,children:(0,h.jsx)(a.zx,{color:"red",onClick:()=>t(),size:"lg",text:i.bt("Ignorar", "Dismiss", "disabledPinCreationModal.button.dismiss", undefined, true)})})]})})}function f(e){let t=(0,c.ZP)(),{viewType:i,boardId:o,handleTouch:n}=e,r=t.bt("Pasta", "Board", "createMenuLinkButton.Create.Board.Label", undefined, true),l=t.bt("Subpasta", "Section", "createMenuLinkButton.Create.Section.Label", undefined, true);return 5===i&&o?(0,h.jsx)(a.Tg,{href:`/board/${o}/create_section/`,onTap:n,rounding:2,children:(0,h.jsx)(a.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,h.jsx)(a.X6,{size:"400",children:l})})}):(0,h.jsx)(a.Tg,{href:"/board/create/",onTap:n,children:(0,h.jsx)(a.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,h.jsx)(a.X6,{size:"400",children:r})})})}var b=i(851420);function g({disabledPinCreation:e,handleDisablePublish:t,handleTouch:i}){let o=(0,c.ZP)(),n=(0,r.k6)(),l=e=>({imageBase64:e,description:"",imageUrl:"",method:b.Iv}),s=o.bt("Foto", "Photo", "createPinButton.Photo.Upload.Label", undefined, true);return(0,h.jsx)(a.iP,{onTap:()=>{if(e){t();return}i()},tapStyle:"none",children:(0,h.jsxs)(a.xu,{paddingY:2,position:"relative",children:[(0,h.jsx)(a.X6,{size:"400",children:s}),e?null:(0,h.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;n.push({pathname:`/pin/create/${b.Iv}/`,state:l(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var P=i(739382),y=i(358589),A=i(640772);function v(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let x=new a.Ry(1),w=e=>{let t=window&&window.innerWidth||0,i=e.bt("Insira um link para criar um Pin", "Enter a link to create a Pin, https://...", "placeholder in text field where a user inputs a URL to create a Pin", undefined, true),o=e.bt("Insira um link, https://...", "Enter a link, https://...", "placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit", undefined, true);return t<380?o:i};class E extends o.PureComponent{constructor(...e){super(...e),v(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),v(this,"createPinFromLinkInput",(0,o.createRef)()),v(this,"createMenuPlusIconButtonRef",(0,o.createRef)()),v(this,"closeCreateModal",()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})}),v(this,"clearValidationError",()=>{this.setState({urlValidationError:null})}),v(this,"openCreateModal",()=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,P.is)(this.props.i18n)})()}),v(this,"handleCreatePinFromLinkTouch",()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})}),v(this,"handleDisablePublish",()=>{this.setState({showCreateModal:!1,showPublishingDisabledError:!0})}),v(this,"handleLinkFieldChange",({value:e})=>{this.setState({createPinFromLinkUrl:e})}),v(this,"handlePinFromLinkFormSubmit",(e,t)=>{let{createPinFromLinkUrl:i}=this.state,{experimentsClient:o}=this.props;e.preventDefault();let{errors:n}=(0,p.Jx)({message:this.props.i18n.bt("Insira uma URL válida.", "Oops! Please enter a valid URL.", "URL validation error message on Pin builder form", undefined, true),experimentsClient:o})(i),[r]=n;r?this.setState({urlValidationError:r}):this.handleUrlValidationSuccess(t)}),v(this,"handleTouch",()=>{let{logContextEvent:e,viewType:t,elementType:i}=this.props;e({view_type:t,view_parameter:3106,element:i,event_type:102})}),v(this,"handleUrlValidationSuccess",e=>{this.setState({showInlineTextEditCreatePin:!1});let{createPinFromLinkUrl:t}=this.state;this.props.updatePinBuilderInput({submittedLink:t}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:t}}),this.closeCreateModal()}),v(this,"renderCreatePinFromLinkOption",()=>{let{disabledPinCreation:e,history:t}=this.props,{createPinFromLinkUrl:i,showInlineTextEditCreatePin:o}=this.state,n=this.props.i18n.bt("Site", "Website", "editPin.CreatePinFromUrl.Label", undefined, true);return(0,h.jsx)(a.kC,{alignItems:"center",height:46,justifyContent:"start",children:o?(0,h.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,h.jsxs)(a.xu,{display:"flex",justifyContent:"between",position:"relative",zIndex:x,children:[(0,h.jsxs)(a.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,h.jsx)(a.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:w(this.props.i18n),size:"lg",value:i})]}),(0,h.jsx)(a.hU,{accessibilityLabel:this.props.i18n.bt("Criar Pin a partir do link inserido", "Create Pin from entered link", "navigation button to confirm user will create a Pin from a link they entered", undefined, true),icon:"arrow-forward",iconColor:"darkGray",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,h.jsx)(a.iP,{onTap:()=>{if(e){this.handleDisablePublish();return}this.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,h.jsx)(a.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,h.jsx)(a.X6,{size:"400",children:n})})})})}),v(this,"renderErrorFlyout",()=>{let{urlValidationError:e}=this.state;return e&&(0,h.jsx)(a.J2,{anchor:this.createPinFromLinkInput.current,idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,h.jsx)(a.xu,{padding:3,width:"100%",children:(0,h.jsxs)(a.kC,{gap:2,children:[(0,h.jsx)(a.qb,{type:"problem"}),(0,h.jsx)(a.xv,{align:"center",weight:"bold",children:e})]})})})})}componentDidMount(){let{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){let{bgColor:e,boardId:t,buttonPadding:i,disabledPinCreation:n,i18n:r,isDesktop:l,iconButtonColor:c="gray",iconButtonSize:u="xl",viewType:_}=this.props,{showCreateModal:p,showPublishingDisabledError:b}=this.state,P=this.props.i18n.bt("Adicionar um Pin ou uma pasta", "Add a Pin or board", "heading in profile create modal", undefined, true);164===_?P=this.props.i18n.bt("Adicionar à subpasta", "Add to section", "heading in section create modal", undefined, true):5===_&&(P=this.props.i18n.bt("Adicionar um Pin ou uma subpasta", "Add a Pin or section", "heading in profile create modal", undefined, true)||r.bt("Adicionar à pasta", "Add to board", "heading in board create modal", undefined, true));let y=4===_?this.props.i18n.bt("Adicionar ao perfil", "Add to profile", "editPin.AddToProfile.Modal.Header", undefined, true):P,A=(5===_||164===_)&&this.createMenuPlusIconButtonRef.current;return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(a.xu,{"data-test-id":"createMenuCreateButton",children:(0,h.jsx)(a.hU,{ref:this.createMenuPlusIconButtonRef,accessibilityLabel:this.props.i18n.bt("Criar um Pin ou uma pasta", "Create a Pin or board", "icon that opens model prompting user to create a new pin or board", undefined, true),bgColor:e,icon:"add",iconColor:c,onClick:this.openCreateModal,padding:"auto"!==i?i:1,size:u})})}),p&&(0,h.jsx)(d.ZP,{accessibilityModalLabel:"",heading:y,isOpen:this.state.showCreateModal,mobileAccessibilityCloseIconLabel:this.props.i18n.bt("fechar modal de criação de pastas e Pins", "close board and pin create modal", "close modal that prompts user to create a new pin or board", undefined, true),onDismiss:this.closeCreateModal,type:"create_menu",children:(0,h.jsx)(a.xu,{padding:3,children:(0,h.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,h.jsxs)(o.Fragment,{children:[(0,h.jsxs)(a.xu,{paddingX:2,children:[(0,h.jsx)(a.xv,{children:this.props.i18n.bt("Criar", "Create", "editPin.Create.Section.Text", undefined, true)}),(0,h.jsx)(o.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,h.jsx)(g,{disabledPinCreation:n,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==_&&(0,h.jsxs)(a.xu,{marginTop:6,paddingX:2,children:[(0,h.jsx)(a.xv,{children:this.props.i18n.bt("Adicionar", "Add", "editPin.Section.Add.Text", undefined, true)}),(0,h.jsx)(f,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:_})]})]}),(0,h.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,h.jsx)(a.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n.bt("Fechar", "Close", "editPin.Modal.Close.Button", undefined, true)})})]})})}),b&&(0,h.jsx)(m,{isOpen:!0,onDismiss:()=>{this.setState({showPublishingDisabledError:!1})}}),A&&(0,h.jsx)(s.Z,{anchors:{[l?3006:4006]:this.createMenuPlusIconButtonRef.current},idealDirection:"up",onAnchorTouch:"complete",placementId:l?18:1000251,scrollToDismiss:!0})]})}}function C(e){let t=(0,c.ZP)(),i=(0,_.HG)(),o=(0,u.F)(),{checkExperiment:a}=o,s=["disable_all","disable_web_pins"].includes(a("disable_pin_creation").group),d=(0,n.I0)(),p=(0,r.k6)(),{pinBuilder:m}=(0,n.v9)(e=>e.session),f=(0,l.Z)(),b=m&&m.isInputOpen,g=m&&m.submittedLink,P=(0,y.Z)();return(0,h.jsx)(E,{...e,disabledPinCreation:s,experimentsClient:o,history:p,i18n:t,isDesktop:i,isInputOpen:b,logContextEvent:f,requireAuthForLimitedLogin:P,submittedLink:g,updatePinBuilderInput:e=>d((0,A.p)(e))})}},407996:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(883119),n=i(140017),r=i(785893);let a=({isInModal:e})=>{let t=(0,n.ZP)();return(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),children:(0,r.jsx)(o.$j,{accessibilityLabel:t.bt("Carregando", "Loading", "Full page loading state", undefined, true),show:!0})})}},652151:(e,t,i)=>{i.d(t,{H:()=>d,W:()=>s});var o=i(667294),n=i(342513),r=i(71328),a=i(785893);let{Provider:l,useHook:s}=(0,n.Z)("HeaderShadow");function d({children:e}){let[t,i]=(0,o.useState)(!1),[n,s]=(0,o.useState)(!1),[d,c]=(0,o.useState)(0),[u,_]=(0,o.useState)(null),p=(0,r.Z)(()=>{t&&(s(window.scrollY>0),c(window.scrollY))},50);return(0,o.useEffect)(()=>(i(!0),()=>{i(!1)}),[]),(0,o.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),(0,a.jsx)(l,{value:{currentScrollPosition:d,isScrolled:n,setSubheaderShadow:_,subheaderShadow:u},children:e})}},766311:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(667294),n=i(587703),r=i(217058);let a=e=>Object.keys(e).reduce((t,i)=>(void 0===e[i]&&delete t[i],t),{...e}),l=({viewType:e,viewParameter:t,viewData:i,auxData:o,objectIdStr:n,component:l,clientTrackingParams:s,element:d},c)=>{let u=a({event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:o,object_id_str:n,component:l,clientTrackingParams:s,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,r.My)("mweb.logging.null_view_type"),c(u)};function s(e){let{auxData:t,clientTrackingParams:i,children:r,component:a,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:_}=e,p=(0,n.Z)(),h=JSON.stringify(t),m=JSON.stringify(c);return(0,o.useEffect)(()=>{l(e,p)},[p,h,i,a,s,d,m,u,_]),o.Children.only(r)}},400564:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(883119),n=i(785893);function r(e){let{accessibilityLabel:t,bgColor:i,icon:r,iconColor:a,onClick:l,selected:s,size:d,tooltip:c}=e;return(0,n.jsx)(o.hU,{accessibilityLabel:t,bgColor:i??"transparent",icon:r,iconColor:a??"darkGray",onClick:l,selected:s,size:d??"lg",tooltip:c?{text:c}:void 0})}},452364:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(667294),n=i(883119),r=i(400564),a=i(785893);function l({bgColor:e,children:t,label:i,icon:l,iconColor:s,id:d,size:c,tooltip:u}){let _=(0,o.useRef)(null),[p,h]=(0,o.useState)(!1),m=()=>h(!1);return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(n.xu,{ref:_,"data-test-id":d,children:(0,a.jsx)(r.Z,{accessibilityLabel:i,bgColor:e,icon:l,iconColor:s,onClick:()=>h(!p),selected:p,size:c,tooltip:u})}),p&&(0,a.jsx)(n.Lt,{anchor:_.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:m,zIndex:new n.Ry(1e3),children:t({handleClose:m})})]})}},851420:(e,t,i)=>{i.d(t,{Iv:()=>o,dU:()=>_,it:()=>a,jI:()=>u,n0:()=>s,nY:()=>r,sW:()=>c,up:()=>n});let o="uploaded",n="pinbuilder",r="scraped",a="button";function l(e){return!!e&&"object"==typeof e&&"method"in e}function s(e){return l(e)&&e.method===r}function d(e){return l(e)&&e.method===o}function c(e){return l(e)&&e.method===a}function u(e){return s(e)||d(e)||c(e)}function _({boardId:e,checkExperiment:t,createPin:i,sectionId:o,state:n}){let r=[];if(s(n)){let{imgData:a}=n;a.forEach(a=>{r.push(i(function({boardId:e,checkExperiment:t,image:i,sectionId:o,state:n}){let{description:r,link:a,method:l}=n;return{boardId:e,checkExperiment:t,description:r,guid:"",imageBase64:"",imageUrl:i,link:a,method:l,sectionId:o}}({boardId:e,checkExperiment:t,image:a,sectionId:o,state:n})))})}else r.push(i(function({boardId:e,checkExperiment:t,sectionId:i,state:o}){if(d(o)){let{description:n,imageBase64:r,imageUrl:a,method:l}=o;return{boardId:e,checkExperiment:t,description:n,guid:"",imageBase64:r,imageUrl:a,link:"",method:l,sectionId:i}}{let{description:n,guid:r,imageUrl:a,link:l,method:s}=o;return{boardId:e,checkExperiment:t,description:n,guid:r,imageUrl:a,link:l,method:s,sectionId:i}}}({boardId:e,checkExperiment:t,sectionId:o,state:n})));return r}},344278:(e,t,i)=>{i.d(t,{CC:()=>c,H$:()=>_,Mt:()=>s,dp:()=>u,p9:()=>p});var o=i(224796),n=i(127285),r=i(481177),a=i(731714),l=i(233440);let s=({key:e,lastVisitedPage:t,imageSignature:i,pinId:o,imageInfo:n,pinDescription:l,pinInviteCode:s})=>{let d=(0,a.M0)().getItem(e)??[];if(!d[0]||d[0].path!==t){let d=[{path:t,ts:Date.now(),pin_id:o||0,first_pin_image_signature:i||"",first_pin_id:o||"",image_info:n||"",pin_description:l||"",is_shared:!!s,pin_invite_code:s}];(0,a.M0)().prependItem(e,d,r.LG)}},d=()=>{let e;let t=(0,l.Nl)().getItem(n.N_);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},c=({path:e,image:t,dominant_color:i,pin_description:o,pin_id:r})=>{let a=d();a[0]&&a[0].path===e||(0,l.Nl)().setItem(n.N_,[{path:e,image:t,pin_description:o??"",dominant_color:i||"",pin_id:r||""}].concat(a))};function u(e,t,i,n,r,a){s({key:o.uc,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:n,pinDescription:r,pinInviteCode:a})}let _=(e,t,i,n,r)=>{s({key:o.hI,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:n,pinDescription:r??""})};function p(e,t,i,n,r){s({key:o.tH,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:n,pinDescription:r??""})}},739382:(e,t,i)=>{i.d(t,{Bb:()=>m,Bx:()=>l,F4:()=>a,Qj:()=>s,_6:()=>h,gv:()=>r,hg:()=>d,is:()=>_,jP:()=>p,lt:()=>n,oM:()=>c,wI:()=>u});var o=i(624797);let n=e=>e.bt("Faça login para continuar", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),r=({firstName:e,i18n:t})=>e?(t.bt("{{ name }} convidou você para participar de uma pasta", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("Seus amigos convidaram você para participar de uma pasta", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),a=e=>{let t=(0,o.mB)(e.search).board_url;if(t){let e=(0,o.Jx)(t),i=(0,o.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},l=e=>e.bt("Faça login para salvar esse Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),s=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e.bt("Faça login para enviar este Pin", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),c=e=>e.bt("Faça login para editar este Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},_=e=>e.bt("Faça login para criar um Pin ou uma pasta", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),p=e=>e.bt("Entre na sua conta para ocultar esse Pin", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),h=e=>e.bt("Faça login para compartilhar o perfil", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),m=e=>e.bt("Entre na conta para criar uma pasta", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},101056:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(5859),n=i(541891);function r(){let{countryFromIp:e}=(0,o.B)();return{isEUBasedIp:!!e&&!!n.a0?.dsa?.COUNTRY_CODES?.includes(e),isIndiaIp:!!e&&!!n.a0?.india?.COUNTRY_CODES?.includes(e)}}},588380:(e,t,i)=>{i.d(t,{Fj:()=>s,JI:()=>d,aG:()=>l});var o=i(667294),n=i(785893);let r=(0,o.createContext)(),a=(0,o.createContext)();function l({children:e}){let[t,i]=(0,o.useState)(!1);return(0,n.jsx)(r.Provider,{value:t,children:(0,n.jsx)(a.Provider,{value:i,children:e})})}function s(){let e=(0,o.useContext)(r);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function d(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},875936:(e,t,i)=>{i.d(t,{PJ:()=>l,Zu:()=>a,c6:()=>r,mM:()=>n});var o=i(883119);let n=new o.Ry(1),r=new o.H3([n]),a=new o.H3([r]),l=new o.H3([a])},640772:(e,t,i)=>{i.d(t,{F:()=>o,p:()=>n});let o=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),n=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},302335:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(442279),n=i(987814);let r=(0,o.P1)(n.Z,e=>e.invites,(e,t)=>Object.keys(t).reduce((i,o)=>{let n=o.split(":"),r=n[0],a=n[1],l=e.id===a,s=t[o]&&["new","contact_request_not_approved"].includes(t[o].status);return l&&s&&(i[r]=o),i},{}))},125768:(e,t,i)=>{i.d(t,{Z:()=>b});var o=i(545007),n=i(616550),r=i(883119),a=i(224796),l=i(587703),s=i(525364),d=i(696534),c=i(140017),u=i(741983),_=i(731714),p=i(217058),h=i(623409),m=i(554786),f=i(785893);function b({alignIconLeft:e,bgColor:t,color:i,disableRedirect:b=!1,fallbackUrl:g,icon:P="arrow-back",onTouch:y,padding:A,placement:v,shouldUseFallbackUrl:x,size:w="lg",viewParameter:E,viewType:C,isVisualSearch:L}){let I=(0,c.ZP)(),S=(0,n.k6)(),j=(0,n.TH)(),T=(0,m.HG)(),z=(0,o.v9)(e=>e.session.isAuthenticated),k=(0,l.Z)(),O=(0,h.Z)(),D=(0,d.vs)(),{viewType:B,viewParameter:Z}=(0,s.SU)(),[M,R]=C?[C,E]:[B,Z],F=()=>j.search&&j.search.includes("?nativeShouldDismiss=true"),U=()=>{let e=_.ZP.getItem(a.pm);j.key||"/ideas"!==g?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(v)}.is_auth_${String(z)}`),O({action:"click",item:"back-button"}),M&&k({view_type:M,view_parameter:R,element:34,event_type:102}),y&&y(),b||((!j.key||j.state&&"redirect"===j.state.referrer||x)&&g?S.push(g):j.pathname.includes("/password/reset/")&&F()?S.push("/login/?dismissWebview=true"):S.goBack())},N=D?d.t4:"white",V=(0,u.am)(j)||L||"white"===i;return(0,f.jsx)(r.xu,{"data-test-id":"back-button",children:e?(0,f.jsx)(r.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===P?-1:-2,width:48,children:(0,f.jsx)(r.hU,{accessibilityLabel:I.bt("Voltar", "Back", "navigation button", undefined, true),bgColor:t,icon:P,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:U,padding:"auto"!==A?A:2,size:w})}):(0,f.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:T||V?"":N,width:D&&!V?"fit-content":""}},rounding:"circle",children:(0,f.jsx)(r.hU,{accessibilityLabel:I.bt("Voltar", "Back", "navigation button", undefined, true),bgColor:t||T?t:"transparent",icon:P,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:U,padding:"auto"!==A?A:2,size:w})})})}},94816:(e,t,i)=>{i.d(t,{Z:()=>_,o:()=>u});var o=i(667294),n=i(883119),r=i(587703),a=i(515278),l=i(213377),s=i(140017),d=i(149722),c=i(785893);let u="AddPinRep";function _({ctaText:e,handleClick:t,height:i,iconSize:u,textSize:_,component:p}){let h=(0,r.Z)(),m=(0,s.ZP)(),f=(0,d.Z)(),b=(0,a.Z)();return(0,o.useEffect)(()=>{h({event_type:120,component:p??0,element:10643})},[h,p]),(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.Tg,{href:"/pin-builder/",onTap:()=>{if(b){b();return}f.isPartner&&h({event_type:101,component:0,element:10643}),t&&t()},children:(0,c.jsxs)(n.st,{children:[(0,c.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:i||l.yF,justifyContent:"center",rounding:2,width:i||void 0,children:(0,c.jsx)(n.xu,{color:"default",height:u||40,rounding:"circle",width:u||40,children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:u||40})})}),(0,c.jsx)(n.xu,{padding:2,children:(0,c.jsx)(n.xv,{color:"subtle",size:_||"300",weight:"bold",children:e||m.bt("Criar Pin", "Create Pin", "label to open create pin modal", undefined, true)})})]})})})}},10568:(e,t,i)=>{i.d(t,{Z:()=>g});var o=i(667294),n=i(883119),r=i(214877),a=i(140017),l=i(915986),s=i(785893);function d({anchor:e,hideAddSectionTooltip:t}){let i=(0,a.ZP)();return(0,s.jsx)(n.mh,{children:(0,s.jsx)(n.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(n.Li,{anchor:e,idealDirection:"down",message:i.bt("Toque em + para adicionar uma subpasta a qualquer momento", "Tap + to add a section any time", "boardActionsButton.addIconButton.addSectionFlyout", undefined, true),onDismiss:t})})})}var c=i(406718),u=i(875936);function _({anchor:e,idealDirection:t,onAddOrEditDate:i,onAddSection:r,onClose:l,onCreateBoard:d,onCreatePin:_,onCreateStoryPin:p,surface:h,isWithinFixedContainer:m}){let f=(0,a.ZP)(),b=(0,c.Z)(!0),g=(0,o.useMemo)(()=>({pin:f.bt("Pin", "Pin", "BoardActionsButton.LegoFlyout.Pin", undefined, true),rename:f.bt("Idea Pin", "Idea Pin", "BoardActionsButton.LegoFlyout.IdeaPin", undefined, true),board:f.bt("Pasta", "Board", "profileHeader.actionBar.board", undefined, true),section:f.bt("Subpasta", "Section", "BoardActionsButton.LegoFlyout.Section", undefined, true),date:f.bt("Data", "Date", "BoardActionsButton.LegoFlyout.Date", undefined, true),todos:f.bt("Notas", "To-dos", "BoardActionsButton.LegoFlyout.Note", undefined, true),new:f.bt("Novo", "New", "BoardActionsButton.LegoFlyout.New", undefined, true)}),[f]);return(0,s.jsxs)(n.Lt,{anchor:e,id:"board_actions",idealDirection:t||"down",isWithinFixedContainer:m,onDismiss:l,zIndex:u.PJ,children:[(0,s.jsx)(n.Lt.Section,{label:f.bt("Criar", "Create", "BoardActionsButton.LegoFlyout.Create", undefined, true),children:[!b&&(0,s.jsx)(n.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{_(),l()},option:{label:g.pin,value:g.pin}},"actions-create-0"),p&&(0,s.jsx)(n.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{p(),l()},option:{label:b?g.pin:g.rename,value:b?g.pin:g.rename}},"actions-create-1"),"profileBoards"===h&&d&&(0,s.jsx)(n.Lt.Item,{dataTestId:"Create board",onSelect:()=>{d(),l()},option:{label:g.board,value:g.board}},"actions-create-2")].filter(Boolean)}),"board"===h&&(0,s.jsx)(n.Lt.Section,{label:f.bt("Adicionar", "Add", "BoardActionsButton.LegoFlyout.Add", undefined, true),children:[r&&(0,s.jsx)(n.Lt.Item,{dataTestId:"addSection",onSelect:()=>{r(),l()},option:{label:g.section,value:g.section}},"actions-add-1"),!!i&&(0,s.jsx)(n.Lt.Item,{onSelect:()=>{i(),l()},option:{label:g.date,value:g.date}},"actions-add-2")].filter(Boolean)})]})}var p=i(619370),h=i(588380);function m({anchor:e}){let t=(0,h.JI)();return(0,s.jsx)(n.mh,{children:(0,s.jsx)(n.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(p.default,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function f({anchor:e}){return(0,s.jsx)(n.mh,{children:(0,s.jsx)(n.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(p.default,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var b=i(971504);function g({children:e,idealDirection:t,onAddOrEditDate:i,onAddSection:l,onCreateBoard:c,onCreatePin:u,onCreateStoryPin:p,onOpen:h=()=>{},surface:g,isWithinFixedContainer:P}){let y;let A=(0,a.ZP)(),{showCreateSectionTooltip:v,setShowCreateSectionTooltip:x}=(0,b.L)()??{},{logContextEvent:w}=(0,r.v)(),E=()=>x(!1),C=(0,o.useRef)(),[L,I]=(0,o.useState)(!1),S=()=>{h(),v&&E(),I(!0),w({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},j=()=>I(!1),T=()=>{L?j():S()},z={board:A.bt("Ações da pasta", "Board Actions", "button that allows user view actions on a board such as add section, create pin, create pincode, and create widget", undefined, true),profileBoards:A.bt("Ações do perfil", "Profile Actions", "profileHeader.actionBar.createButton", undefined, true),profilePins:A.bt("Ações do perfil", "Profile Actions", "profileHeader.actionBar.createButton", undefined, true),section:A.bt("Criar Pin", "Create Pin", "Button to begin pin creation flow", undefined, true)},k=e&&e({active:L,openFlyout:T})||(0,s.jsx)(n.hU,{accessibilityLabel:z[g],icon:"add",iconColor:"gray",onClick:"section"===g?u:T,size:"lg"});return!L&&"board"===g&&(v?y="addSectionTooltip":i&&(y="planningActionsExperience")),L||"profileBoards"!==g||(y="createBoardTooltip"),(0,s.jsxs)(n.xu,{"data-test-id":"boardActionsButton",children:[(0,s.jsx)(n.xu,{ref:C,children:k}),L&&(0,s.jsx)(_,{anchor:C.current,idealDirection:t,isWithinFixedContainer:!!P,onAddOrEditDate:i,onAddSection:l,onClose:j,onCreateBoard:c,onCreatePin:u,onCreateStoryPin:p,surface:g}),"addSectionTooltip"===y&&(0,s.jsx)(d,{anchor:C.current,hideAddSectionTooltip:E}),"planningActionsExperience"===y&&(0,s.jsx)(f,{anchor:C.current}),"createBoardTooltip"===y&&(0,s.jsx)(m,{anchor:C.current})]})}},971504:(e,t,i)=>{i.d(t,{L:()=>l,M:()=>s});var o=i(667294),n=i(342513),r=i(785893);let{Provider:a,useMaybeHook:l}=(0,n.Z)("CreateSectionTooltip");function s({children:e}){let[t,i]=(0,o.useState)(!1),n=(0,o.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:i}),[t]);return(0,r.jsx)(a,{value:n,children:e})}},54966:(e,t,i)=>{i.d(t,{Z:()=>o});function o({boardDensity:e,component:t,viewType:i,viewParameter:o},n){let r=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:case 4:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:i}),a=o??4===i?3106:3069;n({event_type:101,component:t,element:r,...i?{view_type:i,view_parameter:a}:Object.freeze({})})}},881157:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(216167);function n({density:e,surface:t}){o.Z.create("UserMetadataResource","board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e}).callUpdate()}},915986:(e,t,i)=>{i.d(t,{Ev:()=>r,IK:()=>n,Jk:()=>s,Oj:()=>a,bW:()=>l});var o=i(883119);let n=1,r=1,a=2,l=new o.Ry(5e3),s=15}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/59277.pt_BR-b270ae516b441f49.mjs.map